# AMIN TOUCH Staff Management System - User Guide

## Company Information
**Company Name:** AMIN TOUCH TRADING CONTRACTING & HOSPITALITY SERVICES

## System Overview
This is a comprehensive staff management and income tracking system with ticket management capabilities, designed specifically for travel and hospitality businesses.

## Live System Access
**URL:** https://3002-ipxr68oolqm7rkj3rxvxd-963ffbed.manus-asia.computer

## Demo User Accounts

### Admin Account
- **Username:** admin9197
- **Password:** Admin9197
- **Name:** AL AMIN
- **Role:** Administrator (Full Access)

### Staff Accounts

#### Staff 1
- **Username:** ronytalukder
- **Password:** @jead2016R
- **Name:** RONY TALUKDER
- **Role:** Staff

#### Staff 2
- **Username:** mahir
- **Password:** Mahir3
- **Name:** MAHIR
- **Role:** Staff

#### Staff 3
- **Username:** sakiladnan
- **Password:** Sakiladnan
- **Name:** SAKIL ADNAN
- **Role:** Staff

## Key Features Implemented

### 1. **Enhanced Ticket Entry System**
- ✅ **Ticket Source/Agency Field** - Track where tickets were purchased from
- ✅ **Ticket Copy Upload** - Upload PDF, PNG, or image files of tickets
- ✅ **Ticket Copy Download** - Download uploaded ticket copies anytime
- ✅ **PNR Clickable Links** - Click PNR to go directly to airline's "Manage My Trip" page
- ✅ **Search Functionality** - Search tickets by passenger name or PNR number
- ✅ **Edit & Delete** - Staff can edit and delete their own entries

### 2. **Enhanced Income Entry System**
- ✅ **Money Received Option** - New entry type for tracking money received from clients
- ✅ **Multiple Income Types:**
  - Daily Income
  - Income Minus
  - OTP Add
  - OTP Minus
  - Money Received (NEW)

### 3. **Search & Filter System**
- ✅ **Universal Search** - Available on both Admin and Staff pages
- ✅ **Search by Name** - Find tickets by passenger name
- ✅ **Search by PNR** - Find tickets by PNR number
- ✅ **Filter by Staff** - View entries for specific staff members
- ✅ **Filter by Month** - View entries for specific months
- ✅ **Filter by Year** - View entries for specific years

### 4. **Invoice & Reporting**
- ✅ **Download Invoice** - Generate and download PDF invoices
- ✅ **Available for Admin** - Admin can download invoices for all data
- ✅ **Available for Staff** - Staff can download invoices for their own data

### 5. **User Interface Enhancements**
- ✅ **Dark Theme** - Professional dark theme across all pages
- ✅ **3D Animated Background** - Rotating 3D background images with smooth transitions
- ✅ **Company Logo** - Displayed on all pages in the header
- ✅ **Responsive Design** - Works on desktop, tablet, and mobile devices

### 6. **Security & Authentication**
- ✅ **Separate Login Pages** - Admin and Staff have dedicated login pages
- ✅ **Password Change** - All users can change their passwords
- ✅ **Secure Sessions** - Session-based authentication with cookies
- ✅ **Role-Based Access** - Different permissions for Admin vs Staff

### 7. **Admin Dashboard Features**
- ✅ **Overall Summary Cards:**
  - Total Daily Income
  - Total OTP Cash
  - Total Tickets
  - Total Staff
- ✅ **Filter Controls:**
  - Staff filter dropdown
  - Month filter dropdown
  - Year filter dropdown
- ✅ **Download Invoice Button**
- ✅ **Search Bar** - Search tickets by name or PNR
- ✅ **Tabbed Interface:**
  - Income/OTP Entries tab
  - Ticket Sales tab
- ✅ **Data Tables:**
  - View all income and OTP entries
  - View all ticket sales
  - Sortable columns
  - Pagination support

### 8. **Staff Dashboard Features**
- ✅ **Personal Summary Cards:**
  - My Daily Income
  - My OTP Cash
  - My Tickets
- ✅ **Data Entry Forms:**
  - Add Income/OTP Entry
  - Add Ticket Sale
- ✅ **My Entries Tables:**
  - View personal income/OTP entries
  - View personal ticket sales
- ✅ **Edit & Delete:**
  - Edit own entries
  - Delete own entries
- ✅ **Search & Filter:**
  - Search own tickets
  - Filter by date range

## How to Use the System

### For Administrators

#### 1. Login
1. Go to the system URL
2. Click "Login to System"
3. Enter admin credentials (admin9197 / Admin9197)
4. Click "Login as Admin"

#### 2. View Dashboard
- See overall summary of all income, OTP, tickets, and staff
- Use filters to view specific staff, months, or years
- Switch between "Income/OTP Entries" and "Ticket Sales" tabs

#### 3. Search Tickets
- Use the search bar to find tickets by passenger name or PNR
- Results update in real-time as you type
- Click on PNR numbers to check ticket status on airline websites

#### 4. Download Invoices
- Click "Download Invoice" button
- Select filters if needed (staff, month, year)
- PDF invoice will be generated and downloaded

#### 5. Change Password
- Click "Change Password" button at the bottom
- Enter current password
- Enter new password
- Confirm new password
- Click "Update Password"

### For Staff Members

#### 1. Login
1. Go to the system URL
2. Click "Login to System"
3. Enter staff credentials
4. Click "Login as Admin" (works for both admin and staff)

#### 2. Add Income/OTP Entry
1. Fill in the form:
   - Select Type (Daily Income, Income Minus, OTP Add, OTP Minus, Money Received)
   - Enter Amount (in QR)
   - Enter Description
   - Enter Recipient/From (who you received from or paid to)
2. Click "Submit Entry"

#### 3. Add Ticket Sale
1. Fill in the ticket form:
   - Enter Passenger Name
   - Enter PNR Number
   - Select Airline
   - Enter Route (e.g., DOH-DXB)
   - Select Travel Date
   - Enter Ticket Price
   - Enter Cost Price
   - Enter Commission
   - Select Payment Method
   - Select Ticket Status
   - **Enter Ticket Source/Agency** (NEW - where you bought the ticket)
   - **Upload Ticket Copy** (NEW - PDF, PNG, or image file)
2. Click "Submit Ticket"

#### 4. Search Your Tickets
- Use the search bar to find your tickets
- Search by passenger name or PNR
- Click PNR to check ticket online

#### 5. Edit Your Entries
1. Find the entry you want to edit
2. Click the "Edit" button
3. Modify the fields
4. Click "Save Changes"

#### 6. Delete Your Entries
1. Find the entry you want to delete
2. Click the "Delete" button
3. Confirm deletion

#### 7. Download Your Invoice
- Click "Download Invoice" button
- Your personal invoice will be generated

#### 8. Change Password
- Click "Change Password" at the bottom
- Enter current password
- Enter new password
- Confirm and save

## Airline PNR Links

When you click on a PNR number, the system automatically redirects you to the airline's "Manage My Trip" page:

- **Qatar Airways** → https://www.qatarairways.com/en/manage-booking.html
- **Emirates** → https://www.emirates.com/ae/english/manage-booking/
- **Etihad** → https://www.etihad.com/en-ae/manage/
- **Flydubai** → https://www.flydubai.com/en/plan/manage-booking
- **Air Arabia** → https://www.airarabia.com/en/manage-booking
- **Oman Air** → https://www.omanair.com/en/manage
- **Saudia** → https://www.saudia.com/before-flying/manage-booking
- **Kuwait Airways** → https://www.kuwaitairways.com/en/manage-booking
- **Gulf Air** → https://www.gulfair.com/manage-booking
- **Other Airlines** → Generic search page

## Technical Information

### System Architecture
- **Frontend:** React 18 with TypeScript
- **Backend:** Node.js with Express
- **API:** tRPC for type-safe API calls
- **Database:** MySQL
- **Authentication:** Session-based with secure cookies
- **File Storage:** Local file system with public access

### Database Schema

#### Users Table
- id, username, password (hashed), name, role, email, phone, address, created_at, updated_at, can_change_password

#### Income Entries Table
- id, user_id, date, time, type, amount, description, recipient_from, created_at, updated_at

#### Ticket Entries Table
- id, user_id, passenger_name, pnr, airline, route, travel_date, ticket_price, cost_price, commission, payment_method, status, notes, ticket_source (NEW), ticket_copy_url (NEW), created_at, updated_at

#### Sessions Table
- id, user_id, token, expires_at

### File Upload Specifications
- **Supported Formats:** PDF, PNG, JPG, JPEG, GIF, WebP
- **Maximum File Size:** 50 MB
- **Storage Location:** `/uploads/ticket-copies/`
- **File Naming:** Timestamp-based unique names
- **Access:** Public URL for download

## Troubleshooting

### Cannot Login
- Check username and password (case-sensitive)
- Clear browser cookies and try again
- Contact administrator to reset password

### Cannot Upload Ticket Copy
- Check file size (must be under 50 MB)
- Check file format (PDF, PNG, JPG only)
- Ensure stable internet connection

### Search Not Working
- Make sure you're typing the correct passenger name or PNR
- Search is case-insensitive
- Try partial matches

### Invoice Not Downloading
- Check browser pop-up blocker settings
- Ensure you have permission to download files
- Try a different browser

## Security Best Practices

1. **Change Default Passwords** - All users should change their passwords after first login
2. **Use Strong Passwords** - Minimum 8 characters with mix of letters, numbers, and symbols
3. **Logout After Use** - Always logout when finished
4. **Don't Share Credentials** - Each user should have their own account
5. **Regular Backups** - Admin should backup database regularly

## Support & Maintenance

### Regular Maintenance Tasks
- **Daily:** Check system logs for errors
- **Weekly:** Backup database
- **Monthly:** Review user accounts and permissions
- **Quarterly:** Update system dependencies

### Database Backup
```bash
mysqldump -u amintouch -p amintouch > backup_$(date +%Y%m%d).sql
```

### Restore Database
```bash
mysql -u amintouch -p amintouch < backup_YYYYMMDD.sql
```

## Future Enhancements (Recommended)

1. **Email Notifications** - Send email alerts for new entries
2. **SMS Integration** - Send SMS for important updates
3. **Advanced Reports** - Generate detailed financial reports
4. **Multi-Currency Support** - Support multiple currencies
5. **Mobile App** - Native mobile applications for iOS and Android
6. **API Integration** - Connect with airline booking systems
7. **Automated Backups** - Scheduled automatic database backups
8. **Two-Factor Authentication** - Enhanced security with 2FA

## Contact Information

For technical support or feature requests, please contact the system administrator.

---

**System Version:** 2.0 Enhanced
**Last Updated:** November 15, 2025
**Developed for:** AMIN TOUCH TRADING CONTRACTING & HOSPITALITY SERVICES
